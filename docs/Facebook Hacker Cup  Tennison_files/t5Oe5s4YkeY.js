/*!CK:3066283336!*//*1385072851,173213749*/

if (self.CavalryLogger) { CavalryLogger.start_js(["9ntAs"]); }

__d("HackerCupAlertsController",["AsyncRequest","$","copyProperties"],function(a,b,c,d,e,f){var g=b('AsyncRequest'),h=b('$'),i=b('copyProperties');function j(k,l){i(this,{elem:h(k),round_id:l,timer_id:null});this.start();}i(j.prototype,{start:function(){if(this.timer_id===null)this._runAlerts();return false;},_runAlerts:function(){var k=new g().setURI('/hackercup/ajax/alerts.php').setData({round_id:this.round_id}).send();this.timer_id=setTimeout(this._runAlerts.bind(this),60000);return false;}});e.exports=j;});
__d("legacy:hackercup-alerts-js",["HackerCupAlertsController"],function(a,b,c,d){a.HackerCupAlertsController=b('HackerCupAlertsController');},3);
__d("HackerCupConst",["copyProperties"],function(a,b,c,d,e,f){var g=b('copyProperties');function h(){}g(h,{START_TIMER:'hackercup_start_timer',SUCCESSFUL_UPLOAD:'successful_upload'});e.exports=h;});
__d("legacy:hackercup-const",["HackerCupConst"],function(a,b,c,d){a.HackerCupConst=b('HackerCupConst');},3);
__d("HackerCupTimerController",["Arbiter","DOM","HackerCupConst","$","copyProperties"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('DOM'),i=b('HackerCupConst'),j=b('$'),k=b('copyProperties');function l(m,n,o,p,q,r,s){k(this,{elem:j(m),time_remaining:n,refid:p,expired:q,label:r,reload_when_expired:s});this.started=false;this.was_unexpired_once=false;var t=this._onInform.bind(this),u=i.START_TIMER;g.subscribe(u,t);if(o)this.start();}k(l.prototype,{displayDiv:null,elem:null,end_time:null,expired:null,label:null,labelDiv:null,refid:null,running:null,started:null,time_remaining:null,reload_when_expired:null,was_unexpired_once:null,start:function(){if(this.started)return false;this.started=true;this.end_time=Date.now()+this.time_remaining*1000;this.displayDiv=h.find(this.elem,'div.HackerCupTimer_display');if(!this.running){if(this.label){this.labelDiv=h.find(this.elem,'div.HackerCupTimer_label');h.setContent(this.labelDiv,this.label);}this._runTimer();}this.running=true;return false;},_onInform:function(m,n){if(n.problem_id==this.refid)this.start();},_runTimer:function(){if(!this.started)return false;var m,n,o=Date.now(),p=Math.round((this.end_time-o)/1000);if(p>=0){var q=p,r=q%60;q=parseInt(q/60,10);var s=q%60;q=parseInt(q/60,10);if(r<10)r='0'+r;if(s<10)s='0'+s;n=[];if(q)n.push(q);n.push(s);n.push(r);m=n.join(':');this.was_unexpired_once=true;}else{m=this.expired;if(this.reload_when_expired&&this.was_unexpired_once)window.location.reload();}h.setContent(this.displayDiv,m);setTimeout(this._runTimer.bind(this),1000);return false;}});e.exports=l;});