/*!CK:1827202315!*//*1384873397,178179105*/

if (self.CavalryLogger) { CavalryLogger.start_js(["s3bXh"]); }

__d("LEA",["CSS","DOM","ge","AsyncRequest","Event"],function(a,b,c,d,e,f){var g=b('CSS'),h=b('DOM'),i=b('ge'),j=b('AsyncRequest'),k=b('Event'),l={legalOptions:function(m,n){var o=false,p=h.scry(i('records_request_form'),'.emergency_request');m.subscribe('change',function(q,r){var s=r.value;if(o===false)if(s=='Emergency'){n.show();for(var t=0;t<p.length;t++)g.show(p[t]);g.hide(i('due_date_row'));g.hide(i('sign_date_row'));}else if(s=='RIPA - Grade 1'||s=='RIPA - Grade 2'){for(t=0;t<p.length;t++)g.hide(p[t]);g.hide(i('due_date_row'));}else{for(t=0;t<p.length;t++)g.hide(p[t]);g.show(i('due_date_row'));g.show(i('sign_date_row'));}var u=new j(),v=i('submitted_by');if(v){u.setURI('/records/case_entry/ajax/nature_case.php');}else u.setURI('/records/ajax/nature_case.php');u.setData({legal_process:s});u.send();});},natureCaseOptions:function(m){m.subscribe('change',function(n,o){var p=o.value,q=i('other_nature_case'),r=i('missing_since_row');if(q)if(p==='Other'){g.show(q);}else g.hide(q);if(r)if(p==='Missing/Kidnapped/Abduction'){g.show(r);}else g.hide(r);});},addAttachment:function(){var m=i('add_attach'),n=i('attachment_list');k.listen(m,'click',function(o){var p=h.create('li'),q=h.create('input',{type:'file',name:'leaattachments[]',id:'leaattachments',multiple:'true'});h.appendContent(p,q);h.appendContent(n,p);return false;});},setLocation:function(){var m=i('location'),n=i('city_id');k.listen(m,'blur',function(o){var p=i('records_request_form');if(p){var q=new j(),r=i('submitted_by');if(r){q.setURI('/records/case_entry/ajax/location.php');}else q.setURI('/records/ajax/location.php');q.setData({city_id:n.value});q.send();}});},getLeaInfo:function(){var m=i('email');k.listen(m,'blur',function(n){if(m.value){var o=new j();o.setURI('/records/case_entry/ajax/get_lea_info.php');o.setData({email:m.value});o.setHandler(function(p){var q=p.getPayload(),r=i('name');r.value=q.name;var s=i('zipcode');s.value=q.zipcode;var t=i('mailing_address');t.value=q.mailing_address;var u=i('businessphone');u.value=q.businessphone;var v=i('city_id');v.value=q.city_id;var w=i('org_name');w.value=q.org_name;var x=i('location');x.focus();x.value=q.location;r.focus();var y=i('records_request_form');if(y){var z=new j();z.setURI('/records/case_entry/ajax/location.php');z.setData({city_id:q.city_id});z.send();}}.bind(this));o.send();}});}};e.exports=l;});
__d("LeaRequestUploader",["CSS","DOM","ge","URI"],function(a,b,c,d,e,f){var g=b('CSS'),h=b('DOM'),i=b('ge'),j=b('URI'),k={logResponse:function(l,m){l.subscribe('success',function(n,o){var p=o.response.getPayload();if(p.errors){h.setContent(i('err_msg'),p.errors);g.show(i('error_box'));window.scrollTo(0,0);return;}else if(p.redirect)new j(p.redirect).go();});l.subscribe('failure',function(n,o){var p=o.response;});}};e.exports=k;});
__d("FileFormDisableInFlight",["Form"],function(a,b,c,d,e,f){var g=b('Form');function h(i){"use strict";this._form=i;}h.prototype.enable=function(){"use strict";this._subscription=this._form.subscribe(['submit','initial'],this._handle.bind(this));};h.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null;};h.prototype._handle=function(i){"use strict";if(i==='submit'){g.setDisabled.curry(this._form.getRoot(),true).defer();}else g.setDisabled(this._form.getRoot(),false);};e.exports=h;});